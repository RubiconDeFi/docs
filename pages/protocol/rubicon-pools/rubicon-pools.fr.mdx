---
title: Rubicon | Piscines
pageTitle: Piscines
description: Rendement automatis√© pour les utilisateurs et liquidit√© pour le march√© Rubicon
---

## üåä Piscines Rubicon

Rubicon Pools est un syst√®me de contrats intelligents qui permet aux utilisateurs de capturer le rendement passif de la tenue de march√© active. Les utilisateurs d√©posent des actifs dans un pool de liquidit√©s, en retour, ils re√ßoivent un jeton LP liquide d√©sign√© par le pr√©fixe "bath" (ex. bathETH, bathUSDC). Ces jetons de bain signifient la propri√©t√© proportionnelle de l'utilisateur du pool de liquidit√© sous-jacent ainsi que sa r√©clamation proportionnelle sur le rendement futur du pool. Les actifs des pools de liquidit√©s sont utilis√©s par les strat√®ges pour fournir des liquidit√©s sur les carnets d'ordres ouverts Rubicon¬†; les strat√®ges peuvent utiliser des strat√©gies de cr√©ation de march√© personnalis√©es qui r√©pondent √† toutes les exigences de s√©curit√© du protocole. Au final, le rendement de la tenue de march√© est partag√© entre le strat√®ge et les utilisateurs fournissant de la liquidit√© (LP).

Le protocole de carnet d'ordres Rubicon a des pools de liquidit√©s. Les fournisseurs de liquidit√© (LP) d√©posent des jetons dans un pool d'actifs unique et re√ßoivent des bathTokens, qui repr√©sentent des actions du pool sous-jacent. (Ex. LP d√©pose ETH, re√ßoit bathETH)\
\
Les BathTokens adh√®rent au [ERC-4626 standard](https://ethereum.org/en/developers/docs/standards/tokens/erc-4626/) pour les vo√ªtes √† rendement symbolique.

### Architecture

La structure de base de ce produit s'articule autour de pools de liquidit√©s _√† actif unique_. Les utilisateurs qui souhaitent un rendement de tenue de march√© passif sur leurs actifs peuvent d√©poser dans ces pools de liquidit√©s. √Ä partir de l√†, ces pools sont ensuite utilis√©s par les strat√®ges, sur la base d'une paire, pour effectuer une tenue de march√© √† haute fr√©quence pour la paire donn√©e (actif/cotation). Veuillez voir ci-dessous un sch√©ma de la fa√ßon dont les √©l√©ments principaux des pools Rubicon interagissent avec le march√© Rubicon.

![Infrastructure de contrat intelligent Rubicon](</assets/image(83).png>)

Rubicon Pools est compos√© de quatre contrats intelligents d√©taill√©s dans ces documents¬†:

- **Bath House** - un contrat pour administrer le syst√®me Rubicon Pools et autoriser de nouvelles paires.
- **Bath Pair** - un contrat pour g√©rer les param√®tres de risque sp√©cifiques √† la paire, la liquidit√©, la gestion des stocks, la s√©curit√© et les strat√®ges.
- **Bath Token** - un jeton "bath" ERC-20 (par exemple, "bathUSDC" est le jeton LP pour l'USDC contribu√©) qui repr√©sente une liquidit√© sp√©cifique √† l'actif qui g√©n√®re un rendement passif gr√¢ce √† la tenue de march√©.
- **Pairs Trade** - un contrat de strat√©gie qui prend le commerce d'une paire (demande et offre) d'un strat√®ge pour une paire donn√©e et d√©ploie la liquidit√© bathToken en fonction de sa strat√©gie interne. La premi√®re version de PairsTrade.sol place un √©change de paires (demande et offre) avec la liquidit√© de l'utilisateur en fonction des param√®tres du strat√®ge via `executeStrategy` sur BathPair.sol.

### Contraintes et param√®tres de risque

Une caract√©ristique de s√©curit√© cl√© de Rubicon Pools est que la liquidit√© fournie doit √™tre plac√©e dans le carnet de commandes sous forme de commandes, les strat√®ges ne peuvent pas utiliser ces actifs pour autre chose que de passer des commandes sur Rubicon. Contrairement √† un AMM ou √† un teneur de march√© √† fonction constante, cette strat√©gie doit laisser passer du temps entre le placement des ordres, leur ex√©cution et (√† son tour) leur rendement √† but lucratif transmis aux LP et aux strat√®ges. Veuillez consulter ce qui suit pour un aper√ßu des contraintes cl√©s et des param√®tres de risque contr√¥l√©s par Rubicon¬†:

- **reserveRatio** - pour s'assurer que le rendement de la tenue de march√© est correctement transmis aux utilisateurs tout en laissant passer le temps entre le placement (et l'annulation) des ordres, un ratio de r√©serve minimum doit √™tre pr√©serv√© afin que toute la liquidit√© de l'utilisateur ne soit pas √† risque dans le carnet de commandes √† un moment donn√©.
- **maxOutstandingPairCount** - la quantit√© maximale de commandes (qui ne peut pas d√©passer les limites de dimensionnement dynamique des commandes) qu'une paire peut avoir dans le carnet de commandes √† un moment donn√©.
- **getMaxOrderSize()** - cette fonction renvoie la plus grande taille de commande possible autoris√©e par Rubicon Pools pour un actif donn√© et son pool de liquidit√©s.

  - **maxOrderSizeProportion** - la taille en points de pourcentage (0 < 100) that the maximum order for a given liquidity pool can be. This is enforced on every Pools trade.
  - **Dynamic Sizing:** should the pair relationship of a quote and asset liquidity pool be over-weighted one of the assets, this function will reduce the size of orders on the lacking side of the liquidity pool.

    - For example, assume the price of ETH is $100 and bathETH contains 5 ETH while bathUSDC contains 400 USDC. _The target asset-to-quote ratio for all pairs is the current price of the asset._ In this case, the pool is overweight ETH because (400 USDC / 5 ETH) = 80 != 100 (target ratio and price) so getMaxOrderSize() will return a value that reduces the maximum order size of ETH according to the following:

    - Shape parameter = -0.005 and qt represents the delta between the target ratio and the actual asset/quote ratio that exists across the liquidity pools.

![Optimal High-Frequency Market Making; Fushimi et. al 2018](</assets/image(32).png>)

### Consid√©rations cl√©s sur la s√©curit√©

- **onlyApprovedStrategy** - un modificateur qui garantit que la liquidit√© des utilisateurs ne peut √™tre utilis√©e que par une strat√©gie approuv√©e par BathHouse.
- **onlyPair** - un modificateur qui garantit la liquidit√© de l'utilisateur ou une fonction ne peut √™tre utilis√© que par un BathPair enregistr√© qui a √©t√© initialis√© par le BathHouse.
- **enforceReserveRatio** - garantit que le ratio de r√©serve du solde des actifs sous-jacents du pool de liquidit√©s par rapport √† son montant de d√©p√¥ts est respect√© et appliqu√©.
- **enforceSpread** - garantit qu'une transaction de paires de strat√®ges a √† la fois un √©cart (prix demand√©¬†> √©cart non nul¬†> prix acheteur) et que l'offre/demande est une offre/demande r√©elle (sup√©rieur/inf√©rieur au milieu de le prix du carnet de commandes).
- **enforceNoAutoFills** - garantit que les √©changes de paires plac√©s par les strat√®ges sont v√©ritablement des ordres de march√© et ne correspondent pas √† un ordre entra√Ænant le remplissage automatique de l'offre en tant qu'√©change preneur.