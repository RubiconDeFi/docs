---
title: ë£¨ë¹„ì½˜/ë£¨ë¹„ì½˜ ì‹œì¥
pageTitle: ë£¨ë¹„ì½˜ ì‹œì¥
description: ë£¨ë¹„ì½˜ ì£¼ë¬¸ì„œ ê³„ì•½ ê°œìš” ë° ë¬¸ì„œ
---

ë£¨ë¹„ì½˜ì˜ í•µì‹¬ êµí™˜ ë…¼ë¦¬ëŠ” [RubiconMarket](https://github.com/RubiconDeFi/rubicon_protocol/blob/master/contracts/RubiconMarket.sol) ìŠ¤ë§ˆíŠ¸ ê³„ì•½ - Rubiconì˜ ì¤‘ì•™ ì˜¤ë”ë¶. ì´ ìŠ¤ë§ˆíŠ¸ ê³„ì•½ì„ ì˜¤ë”ë¶ì„ í†µí•´ ë””ì§€í„¸ ìì‚°ì˜ P2P êµí™˜ì„ ìš©ì´í•˜ê²Œ í•˜ëŠ” ì¤‘ê°„ ê³„ì¸µìœ¼ë¡œ ìƒê°í•˜ëŠ” ê²ƒì´ ìœ ìš©í•©ë‹ˆë‹¤.

# ğŸ“Š ë£¨ë¹„ì½˜ ë§ˆì¼“

## ê°œìš”

Rubicon Market ìŠ¤ë§ˆíŠ¸ ê³„ì•½ì€ [ERC-20 tokens](https://ethereum.org/en/developers/docs/standards/tokens/erc-20/)ì˜ P2P ê±°ë˜ë¥¼ ìœ„í•œ ì˜¨ì²´ì¸ ì£¼ë¬¸ì„œì™€ ë§¤ì¹­ ì—”ì§„ì„ êµ¬í˜„í•©ë‹ˆë‹¤.

ì£¼ë¬¸ì„œëŠ” ê°€ê²©ë³„ë¡œ ì •ë ¬ëœ ìì‚°ì— ëŒ€í•œ êµ¬ë§¤ ë° íŒë§¤ ì£¼ë¬¸ ëª©ë¡ì…ë‹ˆë‹¤. ì´ ê³„ì•½ì€ ê° ERC20/ERC20 ì˜¤ë”ë¶ì„ ë‘ ê°œì˜ ì´ì¤‘ ì—°ê²° ì •ë ¬ ëª©ë¡ìœ¼ë¡œ êµ¬í˜„í•©ë‹ˆë‹¤. í•˜ë‚˜ëŠ” í•´ë‹¹ ì‹œì¥ì˜ ë§¤ìˆ˜ ì¸¡ìš©ì´ê³  ë‹¤ë¥¸ í•˜ë‚˜ëŠ” ë§¤ë„ì¸¡ìš©ì…ë‹ˆë‹¤.

ê³„ì•½ì€ ìœ ë™ì„±ì„ ìœ„í•´ ì—ìŠ¤í¬ë¡œ ëª¨ë¸ì„ ì‚¬ìš©í•©ë‹ˆë‹¤. ì±…ì— ì œí•œ ì£¼ë¬¸ì´ ìˆì„ ë•Œ í•´ë‹¹ í† í°ì´ ê³„ì•½ìœ¼ë¡œ ì „ì†¡ë©ë‹ˆë‹¤. ì£¼ë¬¸ì´ ì™„ë£Œë˜ë©´ ê³„ì•½ì´ ê±°ë˜ìì™€ ì§ì ‘ ì¼ì¹˜í•˜ê³  í† í°ì´ ê° ë‹¹ì‚¬ìì—ê²Œ ì „ì†¡ë©ë‹ˆë‹¤. ì£¼ë¬¸ì„ ì·¨ì†Œí•  ìˆ˜ ìˆìœ¼ë©° ê³„ì•½ì€ ë°œì‹ ìì—ê²Œ í† í°ì„ ë°˜í™˜í•©ë‹ˆë‹¤.

Rubicon Marketì€ MakerDAOì˜ ì˜¤í”ˆ ì†ŒìŠ¤ [OasisDEX](https://oasisdex.com/)ì˜ íŒŒìƒ ì‘ì—…ì…ë‹ˆë‹¤. AGPL3 ë¼ì´ì„ ìŠ¤ë¥¼ ìƒì†í•©ë‹ˆë‹¤.

## ê±°ë˜ ê¸°ëŠ¥

### ê¶Œí•˜ë‹¤()

```
    function offer(
        uint256 pay_amt,
        ERC20 pay_gem,
        uint256 buy_amt,
        ERC20 buy_gem,
        uint256 pos,
    ) public returns (uint256)
```

| Parameter Name         | Type        | Description                                                                                                                       |
| ---------------------- | ----------- | --------------------------------------------------------------------------------------------------------------------------------- |
| pay\_amt               | uint256     | Quantity of ERC-20 tokens the maker is selling                                                                                    |
| pay\_gem               | address     | ERC-20 token the maker is selling                                                                                                 |
| uint buy\_amt          | uint256     | Quantity of ERC-20 tokens the maker is buying                                                                                     |
| ERC20 buy\_gem         | address     | ERC-20 token the maker is buying                                                                                                  |
| uint pos               | uint256     | Position in the sorted list to place the order. Set this to 0 unless you know the exact position (closest ID) to insert the order |
| \[Optional] matching   | bool        | Optional boolean to determine whether the offer should be automatically matched (placed in the sorted list)                       |

The primary function for placing limit orders on Rubicon. The **pay_amt** quantity of the **pay_gem** token will be sent to the order book contract, sitting in escrow until it is filled or canceled. Always set pos to **0** unless you know the exact position in the sorted lost to insert the order.

### cancel()

```
    function cancel(uint id)
        public
        can_cancel(id)
        returns (bool success)
```

| Parameter Name         | Type        | Description                                    |
| ---------------------- | ----------- | ---------------------------------------------- |
| id                     | uint256     | The id of the order the user wants to cancel   |

ì´ ê¸°ëŠ¥ì€ ì±…ì˜ íŠ¹ì • ì£¼ë¬¸ì„ ì±„ìš°ê±°ë‚˜ "ì²´ë¦¬ í”½"í•˜ëŠ” ë° ì‚¬ìš©ë©ë‹ˆë‹¤. ì „í™”ë¥¼ ê±´ ì‚¬ëŒì€ ë°›ëŠ” ì‚¬ëŒì—ê²Œ ìˆ˜ìˆ˜ë£Œë¥¼ ì§€ë¶ˆí•©ë‹ˆë‹¤. ë˜ëŠ” **take()** ë¼ìš°íŒ… ê¸°ëŠ¥ì„ ì‚¬ìš©í•˜ì—¬ ë™ì¼í•œ ê²°ê³¼ë¥¼ ì–»ê³  íŠ¹ì • ì œì•ˆì„ ì±„ìš¸ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

### buyAllAmount()

```
     function buyAllAmount(
        ERC20 buy_gem,
        uint256 buy_amt,
        ERC20 pay_gem,
        uint256 max_fill_amount
    ) external returns (uint256 fill_amt)
```

| Parameter Name         | Type        | Description                                    |
| ---------------------- | ----------- | ---------------------------------------------- |
| buy\_gem               | address     | ERC-20 token the taker is buying               |
| buy\_amt               | uint256     | Quantity of tokens the taker is buying         |
| pay\_gem               | address     | ERC-20 token the taker is selling              |
| max\_fill\_amount      | uint256     | Maximum amount of pay tokens sold              |

**sell_amt** ìˆ˜ëŸ‰ì˜ **sell_gem** í† í°ì„ ìµœì†Œí•œ **pay_gem** í† í°ì˜ **min_fill_amount** ìˆ˜ëŸ‰ë§Œí¼ ê±°ë˜í•˜ë ¤ê³  ì‹œë„í•©ë‹ˆë‹¤. ê±°ë˜ìê°€ ì§€ì •ëœ ìµœì†Œ ê¸ˆì•¡ë³´ë‹¤ ì ê²Œ ë°›ëŠ” ê²½ìš° ê±°ë˜ê°€ ë˜ëŒì•„ê°‘ë‹ˆë‹¤. ì´ê²ƒì€ "Fill-or-Kill" ë§¤ë„ ì£¼ë¬¸ì…ë‹ˆë‹¤.

## ê¸°ëŠ¥ ë³´ê¸°

### getBestOffer()

```
function getBestOffer(ERC20 pay_gem, ERC20 buy_gem)
    public
    view
    returns (uint256)
```

ì£¼ë¬¸ì„œ ìƒë‹¨ì— ì œì•ˆì˜ IDë¥¼ ë°˜í™˜í•©ë‹ˆë‹¤.

ì „. WETHë¥¼ **pay_gem**ìœ¼ë¡œ, USDCë¥¼ **buy_gem**ìœ¼ë¡œ ì‚¬ìš©í•˜ì—¬ ì´ í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•˜ë©´ WETH/USDCì—ì„œ ê°€ì¥ ì¢‹ì€ í˜¸ê°€ê°€ ë°˜í™˜ë©ë‹ˆë‹¤. í† í°ì„ ì „í™˜í•˜ë©´ ìµœìƒì˜ ì…ì°°ê°€ê°€ ë°˜í™˜ë©ë‹ˆë‹¤.

### getWorseOffer()

```
function getWorseOffer(uint256 id)
    public
    view
    returns (uint256)
```

ì •ë ¬ëœ ëª©ë¡ì—ì„œ ë‹¤ìŒìœ¼ë¡œ ë” ë‚˜ìœ ì œì•ˆì„ ë°˜í™˜í•©ë‹ˆë‹¤. ë” ë‚˜ìœ ì œì•ˆì€ ëª©í‘œ ì£¼ë¬¸ì´ ìš”ì²­ì´ë©´ ë” ë†’ì€ ì œì•ˆì´ê³  ì…ì°°ì´ë©´ ë” ë‚®ì€ ì œì•ˆì…ë‹ˆë‹¤. ë‘ ê²½ìš° ëª¨ë‘ ë™ì¼í•˜ë©´ ë” ìƒˆë¡œìš´ ê²ƒì„ ë°˜í™˜í•©ë‹ˆë‹¤.

### getBuyAmount()

```
    function getBuyAmount(
        ERC20 buy_gem,
        ERC20 pay_gem,
        uint256 pay_amt
    ) external view returns (uint256 fill_amt)
```

ì§€ì •ëœ ì–‘ì˜ **pay_gem** í† í°ì´ ì‚¬ìš©ëœ ê²½ìš° ë°›ì€ **buy_gem** í† í°ì˜ ì–‘ì„ ë°˜í™˜í•©ë‹ˆë‹¤. ì˜¤ë”ë¶ì˜ í˜„ì¬ ìƒíƒœë¥¼ í™•ì¸í•˜ê¸° ìœ„í•´ ì‚¬ìš©í•©ë‹ˆë‹¤.

### getPayAmount()

```
function getPayAmount(
        ERC20 pay_gem,
        ERC20 buy_gem,
        uint256 buy_amt
    ) external view returns (uint256 fill_amt)
```

ì§€ì •ëœ ì–‘ì˜ **buy_gem** í† í°ì„ êµ¬ë§¤í•˜ëŠ” ë° í•„ìš”í•œ **pay_gem** í† í°ì˜ ì–‘ì„ ë°˜í™˜í•©ë‹ˆë‹¤. ì˜¤ë”ë¶ì˜ í˜„ì¬ ìƒíƒœë¥¼ í™•ì¸í•˜ê¸° ìœ„í•´ ì‚¬ìš©í•©ë‹ˆë‹¤.

### getOfferCount()

```
function getOfferCount(ERC20 sell_gem, ERC20 buy_gem)
        public
        view
        returns (uint256)
```

ì§€ì •ëœ ìŒì— ëŒ€í•œ ì£¼ë¬¸ì„œì˜ ì œì•ˆ ìˆ˜ë¥¼ ë°˜í™˜í•©ë‹ˆë‹¤.

### getFeeBPS()

```
function getFeeBPS()
    public
    view
    returns (uint256)
```

í”„ë¡œí† ì½œ í…Œì´ì»¤ ìˆ˜ìˆ˜ë£Œë¥¼ ë² ì´ì‹œìŠ¤ í¬ì¸íŠ¸ë¡œ ë°˜í™˜í•©ë‹ˆë‹¤.