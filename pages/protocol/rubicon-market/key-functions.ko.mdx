---
title: 루비콘/시장 주요 기능
pageTitle: 시장 주요 기능
description: 루비콘 시장 계약의 주요 진입 점 및 기능
---

## 주요 기능

#### 권하다

```
function offer(uint pay_amt, ERC20 pay_gem, uint buy_amt, ERC20 buy_gem, uint pos) 
    public returns (uint)
```

**오퍼** 기능은 Rubicon 시장에서 새로운 지정가 매수 또는 지정가 매도 주문을 하는 주요 기능입니다. 이 기능은 주어진 _ERC-20 쌍_에 대한 사용자 자금을 가져와 스마트 계약의 오더북에 넣습니다. 다른 사용자가 주문을 구매하기로 선택하거나 주문이 다른 주문과 일치하면 Rubicon Market에서 제안이 채워지고 거래가 실행됩니다.

| Parameter                 | Use                                                                                                                                          |
| ------------------------- | -------------------------------------------------------------------------------------------------------------------------------------------- |
| uint pay\_amt             | The quantity of the asset that the user is _offering in wad_                                                                                 |
| ERC20 pay\_gem            | The ERC-20 asset that the user is _offering_                                                                                                 |
| uint buy\_amt             | The quantity of the asset that the user is hoping to _exchange for in wad_                                                                   |
| ERC20 buy\_gem            | The asset the user is hoping to _exchange for_                                                                                               |
| uint pos                  | The position in the _sorted order book_ to place the order. Set this to 0 unless you know the exact position (closest id) to place the order |
| \[Optional] bool matching | Optional boolean that dictates _whether or not the offer should be automatically matched_ if possible                                        |

제안 기능이 Rubicon 시장에서 몇 가지 표현을 갖는다는 점에 유의하는 것이 중요합니다. _선택적으로_ 사용자는 _pos_ 또는 _matching_ 매개변수를 추가할 수 있습니다. 이를 통해 사용자는 정렬된 주문서에서 오퍼가 있어야 하는 위치와 오퍼가 주문의 잠재적인 자동 일치 대상이 되어야 하는지 여부를 선택할 수 있습니다.

#### 구입하다

```
function buy(uint id, uint amount) public can_buy(id) 
    returns (bool)
```

| Parameter   | Use                                                          |
| ----------- | ------------------------------------------------------------ |
| uint id     | The id of the order the user wants to buy                    |
| uint amount | The wad quantity/portion of the order the user wants to buy  |

The buy function allows a user to buy a given order in the order book and ultimately calls super.buy() in the RubiconMarket.sol contract. Furthermore, the buy function will also result in the caller paying the trade fee (see fees).

#### Cancel

```
function cancel(uint id)
    public
    can_cancel(id)
    returns (bool success)
```

| Parameter | Use                                          |
| --------- | -------------------------------------------- |
| uint id   | The id of the order the user wants to cancel |

이 기능을 통해 사용자는 제안을 취소하고 자금을 사용자에게 반환할 수 있습니다. 수정자 **can\_cancel**은 발신자가 오퍼를 소유하고 오퍼가 활성 상태인지 확인합니다. 또는 사용자는 **kill** 라우팅 기능을 사용하여 동일한 결과를 얻고 주어진 ID에서 주문을 취소할 수도 있습니다.

### 라우팅 기능

#### 전체 금액 구매

```
    function buyAllAmount(
    ERC20 buy_gem,
    uint256 buy_amt,
    ERC20 pay_gem,
    uint256 max_fill_amount
) external returns (uint256 fill_amt)
```

| Parameter | Use                                          |
| --------- | -------------------------------------------- |
| uint id   | The id of the order the user wants to cancel |

This function allows a user to buy any amount of an asset (buy\_gem) through multiple orders in the book. The function will keep buying through orders until the desired buy-amt is acquired.

#### Take

```
function take(bytes32 id, uint128 maxTakeAmount) public
```

| Parameter          | Use                                                          |
| ------------------ | ------------------------------------------------------------ |
| uint id            | The id of the order the user wants to buy                    |
| uint maxTakeAmount | The wad quantity/portion of the order the user wants to buy  |

이것은 단순히 **take** 진입점을 통해 사용자가 오퍼를 쉽게 받을 수 있도록 하는 라우팅 기능입니다. 이렇게 하면 사용자가 _제안을 구매_하도록 라우팅됩니다.