---
title: روبيكون / وظائف السوق الرئيسية
pageTitle: وظائف السوق الرئيسية
description: نقاط الدخول الرئيسية ووظائف عقد سوق روبيكون
---

## المهام الرئيسية

#### يعرض

```
function offer(uint pay_amt, ERC20 pay_gem, uint buy_amt, ERC20 buy_gem, uint pos) 
    public returns (uint)
```

وظيفة ** العرض ** هي الوظيفة الأساسية لوضع أمر بيع أو شراء محدد جديد في سوق روبيكون. تأخذ هذه الوظيفة أموال المستخدم لزوج _ERC-20 معين_ وتضعها في دفتر أوامر العقد الذكي. عندما يختار مستخدم آخر شراء الأمر أو تتم مطابقة الأمر بأمر آخر ، فسيتم تنفيذ العرض وتنفيذ الصفقة بواسطة سوق روبيكون.

| Parameter                 | Use                                                                                                                                          |
| ------------------------- | -------------------------------------------------------------------------------------------------------------------------------------------- |
| uint pay\_amt             | The quantity of the asset that the user is _offering in wad_                                                                                 |
| ERC20 pay\_gem            | The ERC-20 asset that the user is _offering_                                                                                                 |
| uint buy\_amt             | The quantity of the asset that the user is hoping to _exchange for in wad_                                                                   |
| ERC20 buy\_gem            | The asset the user is hoping to _exchange for_                                                                                               |
| uint pos                  | The position in the _sorted order book_ to place the order. Set this to 0 unless you know the exact position (closest id) to place the order |
| \[Optional] bool matching | Optional boolean that dictates _whether or not the offer should be automatically matched_ if possible                                        |

من المهم ملاحظة أن وظيفة العرض لها تمثيلات قليلة في سوق Rubicon. _اختياريًا ، يمكن للمستخدم إضافة معلمة _pos_ أو _matching_. تسمح هذه الخيارات للمستخدم باختيار المكان الذي يجب أن يعيش فيه العرض في دفتر الطلبات المصنف وما إذا كان يجب أن يخضع العرض للمطابقة التلقائية المحتملة للطلب أم لا.

#### يشتري

```
function buy(uint id, uint amount) public can_buy(id) 
    returns (bool)
```

| Parameter   | Use                                                          |
| ----------- | ------------------------------------------------------------ |
| uint id     | The id of the order the user wants to buy                    |
| uint amount | The wad quantity/portion of the order the user wants to buy  |

تسمح هذه الوظيفة للمستخدم بإلغاء عرض وإعادة الأموال إلى المستخدم. يتحقق المُعدِّل ** can \ _cancel ** للتأكد من أن المتصل يمتلك العرض وأن العرض نشط. بدلاً من ذلك ، يمكن للمستخدم أيضًا استخدام وظيفة التوجيه ** kill ** لتحقيق نفس النتيجة وإلغاء الطلب عند معرف معين.

### وظائف التوجيه

#### BuyAllAmount

```
    function buyAllAmount(
    ERC20 buy_gem,
    uint256 buy_amt,
    ERC20 pay_gem,
    uint256 max_fill_amount
) external returns (uint256 fill_amt)
```

| Parameter | Use                                          |
| --------- | -------------------------------------------- |
| uint id   | The id of the order the user wants to cancel |

This function allows a user to buy any amount of an asset (buy\_gem) through multiple orders in the book. The function will keep buying through orders until the desired buy-amt is acquired.

#### Take

```
function take(bytes32 id, uint128 maxTakeAmount) public
```

| Parameter          | Use                                                          |
| ------------------ | ------------------------------------------------------------ |
| uint id            | The id of the order the user wants to buy                    |
| uint maxTakeAmount | The wad quantity/portion of the order the user wants to buy  |

هذه مجرد وظيفة توجيه تسمح للمستخدم بالحصول على عرض بسهولة من خلال نقطة دخول ** take **. سيؤدي هذا إلى توجيه المستخدم إلى شراء العرض بعد ذلك.