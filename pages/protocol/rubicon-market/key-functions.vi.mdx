---
title: Rubicon | Market Key Functions
pageTitle: Market Key Functions
description: The main entry points and functions of the Rubicon Market contract
---

## Chức năng chính

#### Lời đề nghị

|****69****|

Chức năng **offer** là chức năng chính để đặt lệnh mua giới hạn hoặc bán giới hạn mới trên thị trường Rubicon. Chức năng này lấy tiền của người dùng cho một _ERC-20 pair_ nhất định và đặt chúng vào sổ đặt hàng của hợp đồng thông minh. Khi một người dùng khác chọn mua lệnh hoặc lệnh được khớp với một lệnh khác, ưu đãi sẽ được thực hiện và giao dịch được thực hiện bởi Rubicon Market.

| Thông số | Sử dụng |
| ------------------------- | ------------------------------------------------------| **** 14 ****|------------------|**** 18 * ***|------------------------|* *** 23 ****|------------------|**** 27 ** **|-- |
| thanh toán uint\_amt | Số lượng nội dung mà người dùng _cung cấp trong wad_ |
| Thanh toán ERC20\_gem | Nội dung ERC-20 mà người dùng đang _cung cấp_ |
| uint mua\_amt | Số lượng nội dung mà người dùng muốn _trao đổi trong wad_ |
| Mua ERC20\_gem | Nội dung mà người dùng muốn _trao đổi lấy_ |
| tư thế uint | Vị trí trong _sorted order book_ để đặt hàng. Đặt giá trị này thành 0 trừ khi bạn biết vị trí chính xác (id gần nhất) để đặt hàng |
| \[Tùy chọn] kết hợp bool | Boolean tùy chọn quyết định _liệu phiếu mua hàng có được khớp tự động hay không_ nếu có thể |

Điều quan trọng cần lưu ý là chức năng cung cấp có một vài đại diện trong thị trường Rubicon. _Tùy chọn_ người dùng có thể thêm thông số _pos_ hoặc _matching_. Những điều này cho phép người dùng chọn vị trí trong sổ đặt hàng đã sắp xếp mà ưu đãi sẽ tồn tại và liệu ưu đãi có phải tuân theo khả năng khớp lệnh tự động tiềm năng hay không.

#### Mua

|****70****|

| Tham số | Sử dụng |
| ----------- | ---------------------------------------------| **** 37 ****|--------- |
| uint id     | The id of the order the user wants to buy                    |
| uint amount | The wad quantity/portion of the order the user wants to buy  |

The buy function allows a user to buy a given order in the order book and ultimately calls super.buy() in the RubiconMarket.sol contract. Furthermore, the buy function will also result in the caller paying the trade fee (see fees).

#### Cancel

```
function cancel(uint id)
    public
    can_cancel(id)
    returns (bool success)
```

| Parameter | Use                                          |
| --------- | -------------------------------------------- |
| uint id | Id của đơn hàng người dùng muốn hủy |

Chức năng này cho phép người dùng hủy ưu đãi và trả lại tiền cho người dùng. Công cụ sửa đổi **can\_cancel** kiểm tra để đảm bảo rằng người gọi sở hữu phiếu mua hàng và phiếu mua hàng đang hoạt động. Ngoài ra, người dùng cũng có thể sử dụng chức năng định tuyến **kill** để đạt được kết quả tương tự và hủy đơn đặt hàng của họ tại một id nhất định.

### Chức năng định tuyến

#### BuyAllAmount

|****72****|

| Tham số | Sử dụng |
| --------- | -------------------------------------------- |
| uint id   | The id of the order the user wants to cancel |

This function allows a user to buy any amount of an asset (buy\_gem) through multiple orders in the book. The function will keep buying through orders until the desired buy-amt is acquired.

#### Take

```
function take(bytes32 id, uint128 maxTakeAmount) public
```

| Parameter          | Use                                                          |
| ---| **** 57 ****|--------- | ---------|**** 61 * ***|------------------------|* *** 66 ****|--------------- |
| uint id | Id đơn hàng người dùng muốn mua |
| uint maxTakeAmount | Số lượng/phần của đơn hàng mà người dùng muốn mua |

Đây chỉ đơn giản là một chức năng định tuyến cho phép người dùng dễ dàng nhận phiếu mua hàng thông qua điểm vào **lấy**. Điều này sẽ định tuyến người dùng để sau đó _mua phiếu mua hàng._