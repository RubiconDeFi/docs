---
title: ãƒ«ãƒ“ã‚³ãƒ³/ãƒ«ãƒ“ã‚³ãƒ³å¸‚å ´
pageTitle: ãƒ«ãƒ“ã‚³ãƒ³å¸‚å ´
description: ãƒ«ãƒ“ã‚³ãƒ³ã®æ³¨æ–‡æ›¸å¥‘ç´„ã®æ¦‚è¦ã¨æ–‡æ›¸
---

Rubicon ã®ã‚³ã‚¢äº¤æ›ãƒ­ã‚¸ãƒƒã‚¯ã¯ [RubiconMarket](https://github.com/RubiconDeFi/rubicon_protocol/blob/master/contracts/RubiconMarket.sol) ã«ã‚ã‚Šã¾ã™ã€‚ã‚¹ãƒãƒ¼ãƒˆ ã‚³ãƒ³ãƒˆãƒ©ã‚¯ãƒˆ - ãƒ«ãƒ“ã‚³ãƒ³ã®ä¸­å¿ƒçš„ãªã‚ªãƒ¼ãƒ€ãƒ¼ ãƒ–ãƒƒã‚¯ã€‚ã“ã®ã‚¹ãƒãƒ¼ãƒˆ ã‚³ãƒ³ãƒˆãƒ©ã‚¯ãƒˆã‚’ã€ã‚ªãƒ¼ãƒ€ãƒ¼ ãƒ–ãƒƒã‚¯ã‚’é€šã˜ã¦ãƒ‡ã‚¸ã‚¿ãƒ«è³‡ç”£ã®ãƒ”ã‚¢ãƒ„ãƒ¼ãƒ”ã‚¢äº¤æ›ã‚’å®¹æ˜“ã«ã™ã‚‹ä¸­é–“å±¤ã¨è€ƒãˆã‚‹ã¨ä¾¿åˆ©ã§ã™ã€‚

# ğŸ“Š ãƒ«ãƒ“ã‚³ãƒ³å¸‚å ´

ï¼ƒï¼ƒ æ¦‚è¦

Rubicon Market ã‚¹ãƒãƒ¼ãƒˆ ã‚³ãƒ³ãƒˆãƒ©ã‚¯ãƒˆã¯ã€ã‚ªãƒ³ãƒã‚§ãƒ¼ãƒ³ ã‚ªãƒ¼ãƒ€ãƒ¼ ãƒ–ãƒƒã‚¯ã¨ã€[ERC-20 tokens](https://ethereum.org/en/developers/docs/standards/tokens/erc-20/) ã®ãƒ”ã‚¢ ãƒ„ãƒ¼ ãƒ”ã‚¢å–å¼•ç”¨ã®ãƒãƒƒãƒãƒ³ã‚° ã‚¨ãƒ³ã‚¸ãƒ³ã‚’å®Ÿè£…ã—ã¦ã„ã¾ã™ã€‚

ã‚ªãƒ¼ãƒ€ãƒ¼ãƒ–ãƒƒã‚¯ã¯ã€ä¾¡æ ¼ã§ã‚½ãƒ¼ãƒˆã•ã‚ŒãŸè³‡ç”£ã®å£²è²·æ³¨æ–‡ã®ãƒªã‚¹ãƒˆã§ã™ã€‚ã“ã®ã‚³ãƒ³ãƒˆãƒ©ã‚¯ãƒˆã¯ã€å„ ERC20/ERC20 ã‚ªãƒ¼ãƒ€ãƒ¼ ãƒ–ãƒƒã‚¯ã‚’ 2 ã¤ã®äºŒé‡ã«ãƒªãƒ³ã‚¯ã•ã‚ŒãŸã‚½ãƒ¼ãƒˆæ¸ˆã¿ãƒªã‚¹ãƒˆã¨ã—ã¦å®Ÿè£…ã—ã¾ã™ã€‚

å¥‘ç´„ã¯ã€æµå‹•æ€§ã®ãŸã‚ã«ã‚¨ã‚¹ã‚¯ãƒ­ãƒ¼ ãƒ¢ãƒ‡ãƒ«ã‚’ä½¿ç”¨ã—ã¾ã™ã€‚æŒ‡å€¤æ³¨æ–‡ãŒãƒ–ãƒƒã‚¯ã«é…ç½®ã•ã‚Œã‚‹ã¨ã€ãã‚Œã‚‰ã®ãƒˆãƒ¼ã‚¯ãƒ³ãŒã‚³ãƒ³ãƒˆãƒ©ã‚¯ãƒˆã«é€ä¿¡ã•ã‚Œã¾ã™ã€‚æ³¨æ–‡ãŒç´„å®šã•ã‚ŒãŸå ´åˆã€å¥‘ç´„ã¯ãƒˆãƒ¬ãƒ¼ãƒ€ãƒ¼ã¨ç›´æ¥ä¸€è‡´ã—ã€ãƒˆãƒ¼ã‚¯ãƒ³ã¯å„å½“äº‹è€…ã«é€ä¿¡ã•ã‚Œã¾ã™ã€‚æ³¨æ–‡ã¯ã‚­ãƒ£ãƒ³ã‚»ãƒ«ã§ãã€ã‚³ãƒ³ãƒˆãƒ©ã‚¯ãƒˆã¯ãƒˆãƒ¼ã‚¯ãƒ³ã‚’é€ä¿¡è€…ã«è¿”ã—ã¾ã™ã€‚

Rubicon Market ã¯ MakerDAO ã®ã‚ªãƒ¼ãƒ—ãƒ³ã‚½ãƒ¼ã‚¹ [OasisDEX](https://oasisdex.com/) ã®æ´¾ç”Ÿç‰©ã§ã™ã€‚ AGPL3 ãƒ©ã‚¤ã‚»ãƒ³ã‚¹ã‚’ç¶™æ‰¿ã—ã¾ã™ã€‚

## å–å¼•æ©Ÿèƒ½

ï¼ƒï¼ƒï¼ƒ ã‚ªãƒ•ã‚¡ãƒ¼ï¼ˆï¼‰

```
    function offer(
        uint256 pay_amt,
        ERC20 pay_gem,
        uint256 buy_amt,
        ERC20 buy_gem,
        uint256 pos,
    ) public returns (uint256)
```

| Parameter Name         | Type        | Description                                                                                                                       |
| ---------------------- | ----------- | --------------------------------------------------------------------------------------------------------------------------------- |
| pay\_amt               | uint256     | Quantity of ERC-20 tokens the maker is selling                                                                                    |
| pay\_gem               | address     | ERC-20 token the maker is selling                                                                                                 |
| uint buy\_amt          | uint256     | Quantity of ERC-20 tokens the maker is buying                                                                                     |
| ERC20 buy\_gem         | address     | ERC-20 token the maker is buying                                                                                                  |
| uint pos               | uint256     | Position in the sorted list to place the order. Set this to 0 unless you know the exact position (closest ID) to insert the order |
| \[Optional] matching   | bool        | Optional boolean to determine whether the offer should be automatically matched (placed in the sorted list)                       |

The primary function for placing limit orders on Rubicon. The **pay_amt** quantity of the **pay_gem** token will be sent to the order book contract, sitting in escrow until it is filled or canceled. Always set pos to **0** unless you know the exact position in the sorted lost to insert the order.

### cancel()

```
    function cancel(uint id)
        public
        can_cancel(id)
        returns (bool success)
```

| Parameter Name         | Type        | Description                                    |
| ---------------------- | ----------- | ---------------------------------------------- |
| id                     | uint256     | The id of the order the user wants to cancel   |

ã“ã®é–¢æ•°ã¯ã€ãƒ–ãƒƒã‚¯å†…ã®ç‰¹å®šã®æ³¨æ–‡ã‚’åŸ‹ã‚ã‚‹ã€ã¾ãŸã¯ã€Œãƒã‚§ãƒªãƒ¼ ãƒ”ãƒƒã‚¯ã€ã™ã‚‹ãŸã‚ã«ä½¿ç”¨ã•ã‚Œã¾ã™ã€‚ã‚³ãƒ¼ãƒ©ãƒ¼ã¯ãƒ†ã‚¤ã‚«ãƒ¼æ–™é‡‘ã‚’æ”¯æ‰•ã„ã¾ã™ã€‚ã¾ãŸã¯ã€ **take()** ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°é–¢æ•°ã‚’ä½¿ç”¨ã—ã¦åŒã˜çµæœã‚’é”æˆã—ã€ç‰¹å®šã®ã‚ªãƒ•ã‚¡ãƒ¼ã‚’æº€ãŸã™ã“ã¨ãŒã§ãã¾ã™ã€‚

### buyAllAmount()

```
     function buyAllAmount(
        ERC20 buy_gem,
        uint256 buy_amt,
        ERC20 pay_gem,
        uint256 max_fill_amount
    ) external returns (uint256 fill_amt)
```

| Parameter Name         | Type        | Description                                    |
| ---------------------- | ----------- | ---------------------------------------------- |
| buy\_gem               | address     | ERC-20 token the taker is buying               |
| buy\_amt               | uint256     | Quantity of tokens the taker is buying         |
| pay\_gem               | address     | ERC-20 token the taker is selling              |
| max\_fill\_amount      | uint256     | Maximum amount of pay tokens sold              |

**sell_amt** å€‹ã® **sell_gem** ãƒˆãƒ¼ã‚¯ãƒ³ã‚’ã€å°‘ãªãã¨ã‚‚ **min_fill_amount** å€‹ã® **pay_gem** ãƒˆãƒ¼ã‚¯ãƒ³ã¨äº¤æ›ã—ã‚ˆã†ã¨ã—ã¾ã™ã€‚ãƒˆãƒ¬ãƒ¼ãƒ€ãƒ¼ãŒæŒ‡å®šã•ã‚ŒãŸæœ€ä½é¡ã‚ˆã‚Šã‚‚å°‘ãªã„é‡‘é¡ã‚’å—ã‘å–ã‚‹å ´åˆã€ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³ã¯å…ƒã«æˆ»ã‚Šã¾ã™ã€‚ã“ã‚Œã¯ã€ŒFill-or-Killã€å£²ã‚Šæ³¨æ–‡ã§ã™ã€‚

## ãƒ“ãƒ¥ãƒ¼é–¢æ•°

### getBestOffer()

```
function getBestOffer(ERC20 pay_gem, ERC20 buy_gem)
    public
    view
    returns (uint256)
```

ã‚ªãƒ¼ãƒ€ãƒ¼ãƒ–ãƒƒã‚¯ã®ä¸Šéƒ¨ã«ã‚ã‚‹ã‚ªãƒ•ã‚¡ãƒ¼ã® ID ã‚’è¿”ã—ã¾ã™ã€‚

å…ƒã€‚ WETH ã‚’ **pay_gem**ã€USDC ã‚’ **buy_gem** ã¨ã—ã¦ã“ã®é–¢æ•°ã‚’å‘¼ã³å‡ºã™ã¨ã€WETH/USDC ã§æœ€è‰¯ã®ã‚¢ã‚¹ã‚¯ãŒè¿”ã•ã‚Œã¾ã™ã€‚ãƒˆãƒ¼ã‚¯ãƒ³ã‚’åˆ‡ã‚Šæ›¿ãˆã‚‹ã¨ã€æœ€è‰¯ã®å…¥æœ­ãŒè¿”ã•ã‚Œã¾ã™ã€‚

### getWorseOffer()

```
function getWorseOffer(uint256 id)
    public
    view
    returns (uint256)
```

ã‚½ãƒ¼ãƒˆã•ã‚ŒãŸãƒªã‚¹ãƒˆã§æ¬¡ã«æ‚ªã„ã‚ªãƒ•ã‚¡ãƒ¼ã‚’è¿”ã—ã¾ã™ã€‚æ‚ªã„ã‚ªãƒ•ã‚¡ãƒ¼ã¨ã¯ã€ã‚¿ãƒ¼ã‚²ãƒƒãƒˆæ³¨æ–‡ãŒã‚¢ã‚¹ã‚¯ã®å ´åˆã¯é«˜ã„æ–¹ã€ãƒ“ãƒƒãƒ‰ã®å ´åˆã¯ä½ã„æ–¹ã§ã™ã€‚ã©ã¡ã‚‰ã®å ´åˆã‚‚ã€ç­‰ã—ã„å ´åˆã¯æ–°ã—ã„æ–¹ã‚’è¿”ã—ã¾ã™ã€‚

### getBuyAmount()

```
    function getBuyAmount(
        ERC20 buy_gem,
        ERC20 pay_gem,
        uint256 pay_amt
    ) external view returns (uint256 fill_amt)
```

æŒ‡å®šã•ã‚ŒãŸé‡ã® **pay_gem** ãƒˆãƒ¼ã‚¯ãƒ³ãŒä½¿ç”¨ã•ã‚ŒãŸå ´åˆã«ã€å—ã‘å–ã£ãŸ **buy_gem** ãƒˆãƒ¼ã‚¯ãƒ³ã®é‡ã‚’è¿”ã—ã¾ã™ã€‚ã‚ªãƒ¼ãƒ€ãƒ¼ãƒ–ãƒƒã‚¯ã®ç¾åœ¨ã®çŠ¶æ…‹ã‚’ç¢ºèªã™ã‚‹ãŸã‚ã«ä½¿ç”¨ã•ã‚Œã¾ã™ã€‚

### getPayAmount()

```
function getPayAmount(
        ERC20 pay_gem,
        ERC20 buy_gem,
        uint256 buy_amt
    ) external view returns (uint256 fill_amt)
```

æŒ‡å®šã•ã‚ŒãŸé‡ã® **buy_gem** ãƒˆãƒ¼ã‚¯ãƒ³ã‚’è³¼å…¥ã™ã‚‹ãŸã‚ã«å¿…è¦ãª **pay_gem** ãƒˆãƒ¼ã‚¯ãƒ³ã®é‡ã‚’è¿”ã—ã¾ã™ã€‚ã‚ªãƒ¼ãƒ€ãƒ¼ãƒ–ãƒƒã‚¯ã®ç¾åœ¨ã®ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã‚’ç¢ºèªã™ã‚‹ãŸã‚ã«ä½¿ç”¨ã•ã‚Œã¾ã™ã€‚

### getOfferCount()

```
function getOfferCount(ERC20 sell_gem, ERC20 buy_gem)
        public
        view
        returns (uint256)
```

æŒ‡å®šã•ã‚ŒãŸãƒšã‚¢ã®ã‚ªãƒ¼ãƒ€ãƒ¼ ãƒ–ãƒƒã‚¯å†…ã®ã‚ªãƒ•ã‚¡ãƒ¼ã®æ•°ã‚’è¿”ã—ã¾ã™ã€‚

### getFeeBPS()

```
function getFeeBPS()
    public
    view
    returns (uint256)
```

ãƒ—ãƒ­ãƒˆã‚³ãƒ«ãƒ†ã‚¤ã‚«ãƒ¼æ–™é‡‘ã‚’ãƒ™ãƒ¼ã‚·ã‚¹ãƒã‚¤ãƒ³ãƒˆã§è¿”ã—ã¾ã™ã€‚